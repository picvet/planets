# Generated by the protocol buffer compiler.  DO NOT EDIT!
# sources: planet.proto
# plugin: python-betterproto
# This file has been @generated

from dataclasses import dataclass
from typing import (
    TYPE_CHECKING,
    Dict,
    Optional,
)

import betterproto
import grpclib
from betterproto.grpc.grpclib_server import ServiceBase

if TYPE_CHECKING:
    import grpclib.server
    from betterproto.grpc.grpclib_client import MetadataLike
    from grpclib.metadata import Deadline


class StatusCode(betterproto.Enum):
    UNSPECIFIED = 0
    SUCCESS = 1
    VALIDATION_ERROR = 2
    NOT_FOUND = 3
    ALREADY_EXISTS = 4
    PERMISSIONS_DENIED = 5
    INTERNAL_ERROR = 6


@dataclass(eq=False, repr=False)
class ResponseMessage(betterproto.Message):
    status_code: "StatusCode" = betterproto.enum_field(1)
    status_message: str = betterproto.string_field(2)
    error_fields: Dict[str, str] = betterproto.map_field(
        3, betterproto.TYPE_STRING, betterproto.TYPE_STRING
    )


@dataclass(eq=False, repr=False)
class CreatePlanetRequest(betterproto.Message):
    planet_name: str = betterproto.string_field(1)
    sector_name: str = betterproto.string_field(2)
    scarce_cargo_name: Optional[str] = betterproto.string_field(3, optional=True)
    """
    optional scarce cargo, as a planet may be stable to not have any scarcity
    """


@dataclass(eq=False, repr=False)
class CreatePlanetResponse(betterproto.Message):
    message: "ResponseMessage" = betterproto.message_field(1)
    planet_id: int = betterproto.int64_field(2)


@dataclass(eq=False, repr=False)
class CreateSectorRequest(betterproto.Message):
    sector_name: str = betterproto.string_field(1)


@dataclass(eq=False, repr=False)
class CreateSectorResponse(betterproto.Message):
    message: "ResponseMessage" = betterproto.message_field(1)
    sector_id: int = betterproto.int64_field(2)


class PlanetAdminStub(betterproto.ServiceStub):
    async def create_planet(
        self,
        create_planet_request: "CreatePlanetRequest",
        *,
        timeout: Optional[float] = None,
        deadline: Optional["Deadline"] = None,
        metadata: Optional["MetadataLike"] = None
    ) -> "CreatePlanetResponse":
        return await self._unary_unary(
            "/co.za.planet.PlanetAdmin/CreatePlanet",
            create_planet_request,
            CreatePlanetResponse,
            timeout=timeout,
            deadline=deadline,
            metadata=metadata,
        )

    async def create_sector(
        self,
        create_sector_request: "CreateSectorRequest",
        *,
        timeout: Optional[float] = None,
        deadline: Optional["Deadline"] = None,
        metadata: Optional["MetadataLike"] = None
    ) -> "CreateSectorResponse":
        return await self._unary_unary(
            "/co.za.planet.PlanetAdmin/CreateSector",
            create_sector_request,
            CreateSectorResponse,
            timeout=timeout,
            deadline=deadline,
            metadata=metadata,
        )


class PlanetAdminBase(ServiceBase):

    async def create_planet(
        self, create_planet_request: "CreatePlanetRequest"
    ) -> "CreatePlanetResponse":
        raise grpclib.GRPCError(grpclib.const.Status.UNIMPLEMENTED)

    async def create_sector(
        self, create_sector_request: "CreateSectorRequest"
    ) -> "CreateSectorResponse":
        raise grpclib.GRPCError(grpclib.const.Status.UNIMPLEMENTED)

    async def __rpc_create_planet(
        self, stream: "grpclib.server.Stream[CreatePlanetRequest, CreatePlanetResponse]"
    ) -> None:
        request = await stream.recv_message()
        response = await self.create_planet(request)
        await stream.send_message(response)

    async def __rpc_create_sector(
        self, stream: "grpclib.server.Stream[CreateSectorRequest, CreateSectorResponse]"
    ) -> None:
        request = await stream.recv_message()
        response = await self.create_sector(request)
        await stream.send_message(response)

    def __mapping__(self) -> Dict[str, grpclib.const.Handler]:
        return {
            "/co.za.planet.PlanetAdmin/CreatePlanet": grpclib.const.Handler(
                self.__rpc_create_planet,
                grpclib.const.Cardinality.UNARY_UNARY,
                CreatePlanetRequest,
                CreatePlanetResponse,
            ),
            "/co.za.planet.PlanetAdmin/CreateSector": grpclib.const.Handler(
                self.__rpc_create_sector,
                grpclib.const.Cardinality.UNARY_UNARY,
                CreateSectorRequest,
                CreateSectorResponse,
            ),
        }
